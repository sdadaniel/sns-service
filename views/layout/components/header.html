<header>

  <style>
    .search-bar {
      background: rgba(255, 255, 255, 0.05);
      ;
      border-radius: 10px;
    }

    .search-bar input.search {
      background: none;
      color: blanchedalmond;
      border: none;
      font-size: 12px;

    }

    .search-bar input.search:focus {

      background: rgba(255, 255, 255, 0.1) !important;
      color: rgb(233, 233, 233);
    }
  </style>
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top bg-dark">
    <div class="container-fluid position-relative">
      <!--Brand Logo -->
      <a class="navbar-brand" style="filter: brightness(0) invert(1);" href="/"><img src="/img/logo.png" alt=""></a>



      <!--Collapse Button -->
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse"
        aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      {# <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item active">
            <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
          </li>
        </ul>
      </div> #}


      <!--Nav Item -->
      <div class="collapse navbar-collapse align-items-center" id="navbarCollapse">

        <!--Left Nav items -->
        <ul class="navbar-nav me-auto  mb-md-0">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="/">Home</a>
          </li>
        </ul>

        <!--Center Nav items -->
        <ul class="navbar-nav search-bar position-absolute" style="left:50%;transform: translateX(-50%);">
          <li class="nav-item collapse-d-none">
            <form class="input-group mb-0" id="search" method="get" action="/search">
              <input type="search" class="form-control rounded search " id="search-input" name="keyword"
                placeholder="Search" aria-label="Search" aria-describedby="search-addon" />
              <button type="button" class="btn search-button">
                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-search"
                  viewBox="0 0 16 16">
                  <path
                    d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z">
                  </path>
                </svg>
              </button>
            </form>
          </li>
        </ul>

        <!--Right Nav items -->

        {% if not user %}
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="/auth/login.html">Login</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/auth/join.html">Join</a>
          </li>
        </ul>
        {% else %}
        <div class="d-flex ml-auto align-items-center collapse-d-none">
          <a href="/member/mypage.html" class="ml-auto mr-2">
            <span style="width: 30px;height:30px;overflow: hidden;border-radius: 50px;display: inline-block;">
              <img src="{{user.thumbnail}}" alt="user" style="width:100%" class="img-circle">
            </span>
          </a>
          <strong class="text-white mr-1"> {{user.id}}님</strong>
        </div>
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="/member/post.html">Post</a>
          </li>
          {# <li class="nav-item position-relative" id="msg">
            <a class="nav-link" href="#">Message</a>
          </li> #}
          <li class="nav-item">
            <a class="nav-link" href="/member/mypage.html">Mypage</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" aria-current="page" href="/auth/logout.html">Logout</a>
          </li>
        </ul>
        {% endif%}
      </div>
    </div>
  </nav>

  <script>
    $(".search-button").on("click", () => {
      if ($("#search-input").val().trim() == "") {
        alert("검색어를 입력해주세요")
      } else {
        $("#search").submit()
      }
    })
  </script>
</header>