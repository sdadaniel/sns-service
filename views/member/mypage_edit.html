{% extends 'layout/main_layout.html' %}
{% block body %}


<div class="container pt-3">
  <div class="row justify-content-center">
    <div class="col-md-6 mb-3">
      <div class="card">
        <div class="card-body">
          <div class="d-flex flex-column align-items-center text-center">
            {% if not user.thumbnail %}
            <img src="/img/profile/blank.png" alt="Admin" class="rounded-circle" width="150">

            {% else %}
            <img src="/img/user/profile/{{user.thumbnail}}" alt="Admin" class="rounded-circle" width="150">
            {% endif %}
            <div class="mt-3">
              <h4>{{user.id}}</h4>
              <span class="badge rounded-pill bg-primary text-white px-2">Followers</span>
              <span class="text-sm">
                {% if user.followers %}
                user.followers
                {% else%}
                1,000
                {% endif%}
              </span><br>
              <span class="badge rounded-pill bg-primary text-white px-2">Followings</span>
              <span class="text-sm">
                {% if user.followings %}
                user.followings
                {% else%}
                1,000
                {% endif%}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row justify-content-center">

    <form action="/member/mypage_edit.html" method="POST" id="edit_form" class="w-100 col-md-6"
      enctype="multipart/form-data">

      {# <form action="/api/user/edit" method="POST" id="edit_form" class="w-100 col-md-6" enctype="multipart/form-data"> #}

      <div class="card mb-3">
        <div class="card-body">
          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Name</h6>
            </div>
            <div class="col-sm-9 text-secondary">
              {{user.name}}
            </div>
          </div>
          <hr>

          <div class="row">
            <div class="col-sm-3">
              <h6 class="mb-0">Email</h6>
            </div>
            <div class="col-sm-9 text-secondary">
              <input class="form-control form-control-sm" name="email" type="email" placeholder="Your Address"
                aria-label=".form-control-sm example" value={{user.email}}>
            </div>
          </div>
          <hr>

          <div class="row align-items-center">
            <div class="col-sm-3">
              <h6 class="mb-0">Address</h6>
            </div>
            <div class="col-sm-9 text-secondary">
              <input class="form-control form-control-sm" name="address" type="text" placeholder="Your Address"
                aria-label=".form-control-sm example" value="{{user.address}}">
            </div>
          </div>
          <hr>

          <div class="row align-items-center">
            <div class="col-sm-3">
              <h6 class="mb-0">Profile Image</h6>
            </div>
            <div class="col-sm-9 text-secondary">
              <input type="file" class="form-control form-control-sm h-auto" name="thumbnail"
                aria-label="Small file input example">
            </div>
          </div>
          <hr>

          <div class="row align-items-center justify-content-center">
            <div class=" text-center">
              <button type="button" class="btn btn-primary btn-sm" onclick="frmFunc()">Confirm</a>
            </div>

            <div class=" text-center">
              <a href="/member/profile.html" class="btn btn-outline-primary btn-sm ml-3">Back</a>

            </div>

          </div>
        </div>
      </div>

    </form>
  </div>
</div>

<script>
  frmFunc = (e) => {
    var flag;
    flag = confirm("수정하시겠습니다?")
    if (flag) {
      document.getElementById("edit_form").submit()
    } else {
      return false
    }
  }
</script>
{% endblock %}